<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Freight â€¢ Logistics</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>
<body>
  <header>
   <div class="logo">
  <img src="img/image - 2025-11-18T131510.793.png" alt="logo">
  <div class="logo-text">
    <span class="main">EASYMOVE</span>
    <span class="sub">LOGISTICS</span>
  </div>
</div>

    <nav>
      <ul id="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="solutions.html">Solutions</a></li>
        <li><a href="tracking.html">Tracking</a></li>
      </ul>
    </nav>

    <a href="contact.html" class="btn">Contact Us</a>
    <button class="menu-toggle" id="menu-toggle">&#9776;</button>
  </header>


 <!-- Barcode Library -->
<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>

<style>
/* ==================== RESETS ==================== */
body { margin: 0; font-family: "Segoe UI", sans-serif; background: #f4f7fa; color:#333; }
h1,h2,h3 { margin: 0; }

/* ==================== HERO SECTION ==================== */
.tracking-hero {
  width: 100%; height: 300px;
  background: url('img/croptruck.png') center/cover no-repeat;
  position: relative; display:flex;
  justify-content:center; align-items:center;
  text-align:center;
  padding-top: 120px;
}
.tracking-hero::after {
  content:""; position:absolute; top:0; left:0;
  width:100%; height:100%; background:rgba(0,0,0,0.5);
}
.tracking-hero h1 {
  position:relative; color:#0f5076e5;
  font-size:2.5rem; font-weight:700;
}

.tracking-search-container {
    margin-top: 120px;   /* push down */
    position: relative;
    z-index: 10;
}

/* Mobile fix */
@media (max-width: 768px) {
    .tracking-search-container {
        margin-top: 90px;
    }
    .tracking-hero {
        padding-top: 140px;
    }
}
/* ==================== TRACKING FORM ==================== */
.tracking-form-section {
  background:#fff;
  padding:25px 20px;
  margin-top:-40px;
  max-width:500px; /* ðŸ‘ˆ smaller width */
  margin-left:auto;
  margin-right:auto;
  box-shadow:0 4px 12px rgba(0,0,0,0.07);
  border-radius:10px;
  text-align:center;
}

.tracking-form-section p {
  max-width:360px;
  margin:6px auto 12px;
  font-size:0.9rem;
  color:#555;
}

#trackingForm {
  display:flex;
  gap:10px;
  margin-top:6px;
  flex-wrap:nowrap;
  justify-content:center;
}

#trackingInput {
  flex:1;
  min-width:180px;
  padding:10px 12px;
  border-radius:5px;
  border:1px solid #ccc;
  font-size:0.95rem;
}

/* === FIX TRACKING FORM OVERLAP === */
.tracking-form-container {
    position: relative;
    z-index: 10;
    margin-top: 140px; /* push down below hero */
}



/* Responsive fix for mobile */
@media (max-width: 768px) {
    .tracking-form-container {
        margin-top: 170px;
    }
    #trackingForm {
        flex-direction: column;
        align-items: center;
    }
    #trackingForm input {
        width: 85%;
    }
}


#searchBtn {
  padding:10px 18px;
  border:none;
  background:#1b96e3;
  color:#fff;
  border-radius:5px;
  cursor:pointer;
  font-size:0.95rem;
  font-weight:500;
}


/* ===== BARCODE AREA ===== */
.barcode-box {
  width: 100%;
  text-align: center;
  margin-bottom: 20px;
}

.barcode-box img {
  width: 220px;
  height: 60px;
  object-fit: contain;
}

/* ===== PRINT BUTTON ===== */
.print-btn {
  background: #0A73E8;
  color: #fff;
  padding: 10px 18px;
  border-radius: 6px;
  border: none;
  float: right;
  margin-top: -10px;
  cursor: pointer;
  transition: 0.3s;
}
/* ================== TRACK BOX ================== */
.track-box {
  width: 100%;
  max-width: 900px;
  margin: 30px auto;
  padding: 30px 32px;
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.08);
  animation: fadeIn 0.6s ease;
}

.track-box h2 {
  font-size: 1.6rem;
  font-weight: 700;
  color: #0073e6;
  text-align: center;
  margin-bottom: 20px;
}

/* Responsive grid */
.details-grid {
  display: grid;
  grid-template-columns: repeat(3,1fr);
  gap: 16px 18px;
  font-size: 15px;
}

.details-grid div strong {
  color: #222;
  font-weight: 600;
}

@media(max-width:800px) {
  .details-grid { grid-template-columns: repeat(2,1fr); }
}
@media(max-width:520px) {
  .details-grid { grid-template-columns: 1fr; }
  .track-box { padding: 20px; }
  .track-box h2 { font-size: 1.3rem; }
}

/* Print button */
#printBtn {
  display: block;
  margin-bottom: 15px;
  padding: 8px 10px;
  background:#0073e6;
  color:#fff;
  border:none;
  border-radius:6px;
  cursor:pointer;
  font-size:14px;
  transition:0.3s;
}
#printBtn:hover { background:#005bb5; }

/* Barcode */
#barcodeContainer { 
  text-align:center; 
  margin:5px 0 20px 0; 
}

/* ================== PROGRESS ================== */
.timeline-container {
  max-width: 900px;
  margin: 35px auto;
  animation: slideUp 0.6s ease;
}

.progress-track {
  width:100%;
  display:flex;
  justify-content:space-between;
  margin: 20px 0;
  position:relative;
}

.progress-track::before {
  content:"";
  position:absolute;
  top:50%;
  left:0;
  width:100%;
  height:5px;
  background:#ddd;
  border-radius:10px;
  transform:translateY(-50%);
}

.progress-step {
  width:24px;
  height:24px;
  background:#ccc;
  border-radius:50%;
  position:relative;
  z-index:10;
  transition:0.4s ease;
  transform:scale(1);
}

.progress-step.active {
  background:#0073e6;
  box-shadow:0 0 10px #0073e6;
  transform:scale(1.3);
}

.progress-labels {
  display:flex;
  justify-content:space-between;
  font-size:14px;
  color:#444;
}

/* ========== ANIMATIONS ========== */
@keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }
@keyframes slideUp { from {opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }





#searchBtn:hover { background:#157acb; }

@media(max-width:600px){
  #trackingForm {
    flex-direction:column;
    gap:12px;
  }
  #searchBtn { width:100%; }
}




/* ==================== SHIPMENT DETAILS ==================== */
#detailsSection {
  background:#fff; padding:30px; margin:30px auto;
  max-width:900px; box-shadow:0 4px 20px rgba(0,0,0,0.08);
  border-radius:10px; display:none;
}
#detailsSection h2 { color:#1b96e3; margin-bottom:20px; font-size:1.6rem; }
.details-grid p { padding:8px 0; border-bottom:1px solid #eee; font-size:0.95rem; }


/* ==================== TIMELINE ==================== */

.timeline-title {
  color:#1b96e3; font-size:1.6rem; margin-bottom:20px;
}
.details-box {
  max-width: 820px;
  margin: 40px auto;
  background: #fff;
  border-radius: 12px;
  padding: 35px;
  box-shadow: 0px 4px 18px rgba(0,0,0,0.08);
  font-size: 15px;
  line-height: 24px;
  display:none;
}

.details-box h2 {
  color: #0072CE;
  font-size: 22px;
  margin-bottom: 20px;
  font-weight: 700;
}

.detail-row {
  margin-bottom: 10px;
}

.status-badge {
  padding: 6px 12px;
  border-radius: 6px;
  color: #fff;
  font-weight: 600;
  display:inline-block;
}

/* === STATUS COLORS === */
.status-Picked\ Up {background:#1485ff;}
.status-In\ Transit {background:#f39c12;}
.status-Out\ for\ Delivery {background:#e74c3c;}
.status-Delivered {background:#2ecc71;}

/* === TIMELINE === */
.timeline-container {
  max-width:820px;
  margin:40px auto;
  display:none;
}

.progress-track {
  display:flex;
  justify-content:space-between;
  margin:30px 0;
  position:relative;
}

.progress-track::before {
  content:"";
  position:absolute;
  width:100%;
  height:5px;
  background:#dcdcdc;
  top:14px;
  left:0;
  border-radius:5px;
}

.progress-step {
  width:30px;
  height:30px;
  background:#dcdcdc;
  border-radius:50%;
  position:relative;
  z-index:2;
  transition:all .4s ease-in-out;
}

.progress-step.active {
  background:#0072CE;
  transform:scale(1.15);
}

.progress-labels {
  display:flex;
  justify-content:space-between;
  font-weight:600;
  font-size:14px;
}

.print-btn-box {
  text-align:center;
  margin:40px 0;
}

/* ========= MOBILE FIX FOR PROGRESS BAR ========= */
@media(max-width: 600px) {

  .timeline-container {
    padding: 0 10px;
  }

  .progress-track {
    width: 100%;
    padding: 0 5px;
  }

  .progress-track::before {
    height: 4px;
  }

  .progress-step {
    width: 18px;
    height: 18px;
  }

  .progress-step.active {
    transform: scale(1.15);
  }

  .progress-labels {
    font-size: 12px;
    gap: 5px;
    text-align: center;
  }

  .progress-labels span {
    flex: 1;
    text-align: center;
    max-width: 70px;
    word-wrap: break-word;
  }
}


#printInvoiceBtn {
  background:#0072CE;
  color:#fff;
  padding:12px 22px;
  border-radius:8px;
  font-size:15px;
  cursor:pointer;
  border:none;
}

.delivery-image-box {
  width:100%;
  display:flex;
  justify-content:center;
  margin-top:10px;
}

.delivery-img {
  max-width:300px;
  width:100%;
}


/* ==================== HISTORY TABLE ==================== */
.history-wrapper { max-width:900px; margin:0 auto 50px; display:none; }
.history-wrapper h3 { color:#1b96e3; margin-bottom:15px; }
table { width:100%; border-collapse:collapse; border-radius:8px; overflow:hidden; }
th { background:#1b96e3; color:#fff; text-align:left; padding:12px; font-size:0.95rem; }
td { padding:12px; border-bottom:1px solid #eee; font-size:0.9rem; }
tr:nth-child(even) { background:#f9f9f9; }

/* ==================== BARCODE ==================== */
svg { margin:15px 0; }

/* ==================== TOAST ==================== */
#toast {
  position:fixed; top:20px; right:20px; background:#1b96e3;
  color:#fff; padding:10px 20px; border-radius:5px;
  display:none; z-index:1000;
}

/* ==================== RESPONSIVE ==================== */
@media(max-width:600px){
  .tracking-hero h1 { font-size:1.8rem; }
  #trackingForm { flex-direction:column; }
  #searchBtn { width:100%; }
}
</style>
</head>

<body>

<!-- ==== HERO ==== -->
<section class="tracking-hero">
  <h1>Track Your Shipment</h1>
</section>

<!-- ==== TRACKING FORM ==== -->
<section class="tracking-form-section tracking-form-container">
  <p>Enter your tracking number below to check the current status and location of your shipment.</p>

  <div id="trackingForm">
    <input type="text" id="trackingInput" placeholder="Enter tracking number...">
    <button id="searchBtn">Track</button>
  </div>
</section>

<!-- ==== DELIVERY IMAGE UNDER FORM ==== -->
<div class="delivery-image-box">
  <img src="img/whitetruck.png" alt="Delivery Truck" class="delivery-img">
</div>


<!-- ==== SHIPMENT DETAILS (HIDDEN) ==== -->
<div id="detailsSection"></div>

<!-- ==== TIMELINE (HIDDEN) ==== -->
<div class="timeline-container" id="timelineSection">
  <h3 class="timeline-title">Shipment Progress</h3>
  <div class="progress-track">
    <div class="progress-step" data-step="1"></div>
    <div class="progress-step" data-step="2"></div>
    <div class="progress-step" data-step="3"></div>
    <div class="progress-step" data-step="4"></div>
  </div>
  <div class="progress-labels">
    <span>Picked Up</span>
    <span>In Transit</span>
    <span>Out for Delivery</span>
    <span>Delivered</span>
  </div>
</div>

<!-- ==== HISTORY TABLE (HIDDEN) ==== -->
<div class="history-wrapper" id="historyWrapper">
  <h3>Shipment History</h3>
  <table>
    <thead>
      <tr><th>Date</th><th>Status</th><th>Details</th></tr>
    </thead>
    <tbody id="historyTable"></tbody>
  </table>
</div>

<!-- ==== PRINT BUTTON ==== -->
<div class="print-btn-box" id="printBtnBox" style="display:none;">
  <button id="printInvoiceBtn">Download Shipment Receipt</button>
</div>

<div id="toast"></div>


  <!-- FOOTER SECTION -->

  <footer class="footer">
    <div class="footer-container">
      
      <!-- Contact Card -->
      <div class="footer-left">
        <h2>Global Logistics Partner for<br>Seamless Supply Chains</h2>
        <p>Got a Logistic Service?</p>
        <button>Contact Us</button>
      </div>

      <!-- Footer Links -->
      <div class="footer-columns">
        <div class="footer-column">
          <h4>Menu</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="services.html">Services</a></li>
            <li><a href="solutions.html">Solutions</a></li>
            <li><a href="tracking.html">Tracking</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h4>Company</h4>
          <ul>
            <li><a href="about.html">About Us</a></li>
            <li><a href="team.html">Our Team</a></li>
            <li><a href="contact.html">Contact Us</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h4>Services</h4>
          <ul>
            <li><a href="#">Global Freight Forwarding</a></li>
            <li><a href="#">Intelligent Warehousing</a></li>
            <li><a href="#">Domestic Trucking & FTL/LTL</a></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Footer Bottom -->
    <div class="footer-container footer-bottom">
      <div class="language-select">
        <select>
          <option>English (US)</option>
          <option>English (UK)</option>
          <option>EspaÃ±ol</option>
          <option>FranÃ§ais</option>
        </select>
      </div>
      
      <div class="footer-legal">
        Terms of Service &nbsp; | &nbsp; Privacy Policy
      </div>

      <div class="social-icons">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-x-twitter"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-linkedin-in"></i></a>
      </div>
    </div>
  </footer>




  
  <script src="https://unpkg.com/scrollreveal"></script>
  <script src="main.js"></script>



<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
import { getFirestore, collection, query, where, getDocs } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js";

// ====================== FIREBASE CONFIG ======================
const firebaseConfig = {
  apiKey: "AIzaSyCW-RCwz_nyR4r_5crONpHsXOwuX16Wfdo",
  authDomain: "eaymovelogistics.firebaseapp.com",
  projectId: "eaymovelogistics",
  storageBucket: "eaymovelogistics.firebasestorage.app",
  messagingSenderId: "145343790752",
  appId: "1:145343790752:web:77283c9eeeaba3e07253c5",
  measurementId: "G-5BJLXNJETV"
};
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// ====================== ELEMENTS ======================
const trackingInput   = document.getElementById("trackingInput");
const searchBtn       = document.getElementById("searchBtn");
const detailsSection  = document.getElementById("detailsSection");
const timelineSection = document.getElementById("timelineSection");
const historyTable    = document.getElementById("historyTable");
const toast           = document.getElementById("toast");
const historyWrapper  = document.getElementById("historyWrapper");

// Hide initial sections
detailsSection.style.display = "none";
timelineSection.style.display = "none";
historyWrapper.style.display = "none";

// ====================== TOAST ======================
function showToast(msg){
  toast.textContent = msg;
  toast.style.display = "block";
  setTimeout(()=> toast.style.display = "none", 3000);
}

// ====================== STATUS COLOR ======================
function statusColor(status){
  switch(status){
    case "Picked Up": return "#1d4ed8";
    case "In Transit": return "#0284c7";
    case "Out for Delivery": return "#eab308";
    case "Delivered": return "#16a34a";
    default: return "#0ea5e9";
  }
}

// ====================== PROGRESS TIMELINE ======================
function updateTimeline(status){
  const steps = document.querySelectorAll(".progress-step");
  let index = 0;
  if(status==="Picked Up") index = 1;
  else if(status==="In Transit") index = 2;
  else if(status==="Out for Delivery") index = 3;
  else if(status==="Delivered") index = 4;

  steps.forEach((s,i)=> {
    setTimeout(()=>{
      s.classList.toggle("active", i < index);
    }, i * 150);
  });
  timelineSection.style.display = "block";
}

// ====================== LOAD TRACKING ======================
async function loadTracking(code){
  if(!code) return showToast("Enter a tracking number");

  const q = query(collection(db,"shipment"), where("trackingNumberLower","==", code.toLowerCase()));
  const snap = await getDocs(q);

  if(snap.empty){
    detailsSection.style.display="none";
    timelineSection.style.display="none";
    historyWrapper.style.display="none";
    return showToast("Tracking number not found");
  }

  const d = snap.docs[0].data();

  // ====================== DISPLAY ALL DETAILS ======================
  detailsSection.innerHTML = `
  <div class="track-box">

    <button class="print-btn" onclick="window.print()">Print Receipt</button>

    <h2>Tracking #${d.trackingNumber}</h2>

    <div class="barcode-box">
      <img src="https://barcode.tec-it.com/barcode.ashx?data=${d.trackingNumber}&code=Code128&dpi=120" alt="barcode">
    </div>

    <div class="details-grid">
      <div><strong>Sender:</strong> ${d.senderName}</div>
      <div><strong>Phone:</strong> ${d.senderPhone||"-"}</div>
      <div><strong>Address:</strong> ${d.senderAddress||"-"}</div>

      <div><strong>Receiver:</strong> ${d.receiverName}</div>
      <div><strong>Phone:</strong> ${d.receiverPhone||"-"}</div>
      <div><strong>Address:</strong> ${d.receiverAddress||"-"}</div>

      <div><strong>Origin Port:</strong> ${d.originPort}</div>
      <div><strong>Destination:</strong> ${d.destinationAddress}</div>
      <div><strong>Mode:</strong> ${d.shipmentMode||"-"}</div>

      <div><strong>Package:</strong> ${d.packageType||"-"}</div>
      <div><strong>Weight:</strong> ${d.weight||"-"}</div>
      <div><strong>Courier Fee:</strong> ${d.courierFee||"-"}</div>

      <div><strong>Status:</strong> ${d.courierStatus}</div>
      <div><strong>Pickup Date:</strong> ${d.pickupDate||"-"}</div>
      <div><strong>Estimated Delivery:</strong> ${d.estimatedDelivery||"-"}</div>

      <div style="grid-column:1/4;"><strong>Details:</strong> ${d.details||"-"}</div>
    </div>
  </div>
`;

  detailsSection.style.display="block";

  // ================= TIMELINE =================
  updateTimeline(d.courierStatus);

  // ================= HISTORY =================
  const historySnap = await getDocs(collection(snap.docs[0].ref,"history"));
  historyTable.innerHTML="";
  if(historySnap.empty){
    historyWrapper.style.display="none";
  } else {
    historyWrapper.style.display="block";
    let records=[];
    historySnap.forEach(h=> records.push(h.data()));
    records.sort((a,b)=> a.timestamp - b.timestamp);
    records.forEach(h=>{
      const date = h.timestamp ? new Date(h.timestamp).toLocaleString() : "-";
      historyTable.insertAdjacentHTML("beforeend", `
        <tr><td>${date}</td><td>${h.courierStatus||""}</td><td>${h.details||""}</td></tr>
      `);
    });
  }
}

// ====================== SEARCH BUTTON ======================
searchBtn.addEventListener("click", ()=> loadTracking(trackingInput.value.trim()));
</script>


</body>
</html>
